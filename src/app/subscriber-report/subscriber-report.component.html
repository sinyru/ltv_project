<h1>
  Subscriber Report
</h1>

<button (click)="exportCSV()">Export</button>
<button (click)="goBack()">Back</button>

<p>{{count}} subscribers currently</p>

<label for="Category-select">Choose a Category:</label>

<select id="Category-select" (change)="goReport($event)">
    <option value="">--Please choose an option--</option>
    <option value="All">All Subscriptions</option>
    <option value="6-Pack">6-Packs</option>
    <option value="12-Pack">12-Packs</option>
    <option value="24-Pack">24-Packs</option>
</select>


<div *ngIf="(reportSelected==='All')">
  <table class="table">
      <tr>
          <th>Last Name</th>
          <th>First Name</th>
          <th>Created Date</th>
          <th>Updated Date</th>
          <th>State/Province</th>
          <th>Country</th>
          <th>Email</th>
          <th>Status</th>
          <th>Product Title</th>
          <th>Variant Title</th>
          <th>Cancel Reason(if status is not active)</th>
          <th>Price</th>
          <th>Quantity</th>
      </tr>
      <tr *ngFor="let subscription of subscriptions">
          <td>{{subscription.customer.last_name}}</td>
          <td>{{subscription.customer.first_name}}</td>
          <td>{{subscription.customer.created_at}}</td>
          <td>{{subscription.customer.updated_at}}</td>
          <td>{{subscription.customer.billing_province}}</td>
          <td>{{subscription.customer.billing_country}}</td>
          <td>{{subscription.customer.email}}</td>
          <td>{{subscription.subscription.status}}</td>
          <td>{{subscription.subscription.product_title}}</td>
          <td>{{subscription.subscription.variant_title}}</td>
          <td>{{subscription.subscription.cancellation_reason}} {{subscription.subscription.cancellation_reason_comments}}</td>
          <td>${{subscription.subscription.price}}</td>
          <td>{{subscription.subscription.quantity}}</td>
      </tr>
  </table>
</div>

<div *ngIf="(reportSelected==='6-Pack')">
  <table class="table">
      <tr>
          <th>Last Name</th>
          <th>First Name</th>
          <th>Created Date</th>
          <th>Updated Date</th>
          <th>State/Province</th>
          <th>Country</th>
          <th>Email</th>
          <th>Status</th>
          <th>Product Title</th>
          <th>Variant Title</th>
          <th>Cancel Reason(if status is not active)</th>
          <th>Price</th>
          <th>Quantity</th>
      </tr>
      <tr *ngFor="let subscription of sixSubs">
          <td>{{subscription.customer.last_name}}</td>
          <td>{{subscription.customer.first_name}}</td>
          <td>{{subscription.customer.created_at}}</td>
          <td>{{subscription.customer.updated_at}}</td>
          <td>{{subscription.customer.billing_province}}</td>
          <td>{{subscription.customer.billing_country}}</td>
          <td>{{subscription.customer.email}}</td>
          <td>{{subscription.subscription.status}}</td>
          <td>{{subscription.subscription.product_title}}</td>
          <td>{{subscription.subscription.variant_title}}</td>
          <td>{{subscription.subscription.cancellation_reason}} {{subscription.subscription.cancellation_reason_comments}}</td>
          <td>${{subscription.subscription.price}}</td>
          <td>{{subscription.subscription.quantity}}</td>
      </tr>
  </table>
</div>

<div *ngIf="(reportSelected==='12-Pack')">
  <table class="table">
      <tr>
          <th>Last Name</th>
          <th>First Name</th>
          <th>Created Date</th>
          <th>Updated Date</th>
          <th>State/Province</th>
          <th>Country</th>
          <th>Email</th>
          <th>Status</th>
          <th>Product Title</th>
          <th>Variant Title</th>
          <th>Cancel Reason(if status is not active)</th>
          <th>Price</th>
          <th>Quantity</th>
      </tr>
      <tr *ngFor="let subscription of twelveSubs">
          <td>{{subscription.customer.last_name}}</td>
          <td>{{subscription.customer.first_name}}</td>
          <td>{{subscription.customer.created_at}}</td>
          <td>{{subscription.customer.updated_at}}</td>
          <td>{{subscription.customer.billing_province}}</td>
          <td>{{subscription.customer.billing_country}}</td>
          <td>{{subscription.customer.email}}</td>
          <td>{{subscription.subscription.status}}</td>
          <td>{{subscription.subscription.product_title}}</td>
          <td>{{subscription.subscription.variant_title}}</td>
          <td>{{subscription.subscription.cancellation_reason}} {{subscription.subscription.cancellation_reason_comments}}</td>
          <td>${{subscription.subscription.price}}</td>
          <td>{{subscription.subscription.quantity}}</td>
      </tr>
  </table>
</div>

<div *ngIf="(reportSelected==='24-Pack')">
  <table class="table">
      <tr>
          <th>Last Name</th>
          <th>First Name</th>
          <th>Created Date</th>
          <th>Updated Date</th>
          <th>State/Province</th>
          <th>Country</th>
          <th>Email</th>
          <th>Status</th>
          <th>Product Title</th>
          <th>Variant Title</th>
          <th>Cancel Reason(if status is not active)</th>
          <th>Price</th>
          <th>Quantity</th>
      </tr>
      <tr *ngFor="let subscription of twentyFourSubs">
          <td>{{subscription.customer.last_name}}</td>
          <td>{{subscription.customer.first_name}}</td>
          <td>{{subscription.customer.created_at}}</td>
          <td>{{subscription.customer.updated_at}}</td>
          <td>{{subscription.customer.billing_province}}</td>
          <td>{{subscription.customer.billing_country}}</td>
          <td>{{subscription.customer.email}}</td>
          <td>{{subscription.subscription.status}}</td>
          <td>{{subscription.subscription.product_title}}</td>
          <td>{{subscription.subscription.variant_title}}</td>
          <td>{{subscription.subscription.cancellation_reason}} {{subscription.subscription.cancellation_reason_comments}}</td>
          <td>${{subscription.subscription.price}}</td>
          <td>{{subscription.subscription.quantity}}</td>
      </tr>
  </table>
</div>
